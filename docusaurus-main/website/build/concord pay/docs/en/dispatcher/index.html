<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Specification for the interaction of the merchant with the Dispatcher software. · </title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Payment on the payment processing page"/><meta name="docsearch:version" content="1.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Specification for the interaction of the merchant with the Dispatcher software. · "/><meta property="og:type" content="website"/><meta property="og:url" content="AntoninaSych.github.io/docs/"/><meta property="og:description" content="## Payment on the payment processing page"/><meta property="og:image" content="AntoninaSych.github.io/docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="AntoninaSych.github.io/docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/footer-concord-logo.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/website/static/js/main.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/prism.css"/><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/en"><img class="logo" src="/docs/img/footer-concord-logo.png" alt=""/><h2 class="headerTitleWithLogo"></h2></a><a href="/docs/en/versions"><h3>1.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/docs/en/dispatcher" target="_self">Documents</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/docs/ru/dispatcher">Русский</a></li><li><a href="/docs/docs/uk/dispatcher">Українська</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ConcordPay</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">GooglePay<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/en/GooglePay">GooglePay</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ConcordPay<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/docs/en/dispatcher">Specification for the interaction of the merchant with the Dispatcher software.</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/en/dictionary">Dictionary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ApplePay<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/en/ApplePayWeb">Web</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/en/ApplePayApp">App</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Specification for the interaction of the merchant with the Dispatcher software.</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="payment-on-the-payment-processing-page"></a><a href="#payment-on-the-payment-processing-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Payment on the payment processing page</h2>
<p>To pay on the payment processing page, you need to redirect to the page of the processing center, with POST data.</p>
<p><strong>Production url:</strong>   <a href="https://pay.concord.ua/api/">https://pay.concord.ua/api/</a></p>
<p>POST params:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Type of transaction</td><td>Purchase</td></tr>
<tr><td>merchant_id</td><td>ID merchant, issued by processing</td><td></td></tr>
<tr><td>amount</td><td>The amount of the transaction. Example 500.00</td><td></td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, currency_iso, description separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td>The order of parameters during concatenation is important!</td><td></td></tr>
<tr><td>order_id</td><td>Unique transaction number on the merchant side. If the operation is duplicated, the merchant receives an error.</td><td></td></tr>
<tr><td>currency_iso</td><td>Currency of payment.</td><td>UAH</td></tr>
<tr><td>description</td><td>Purpose of payment. It is displayed on the payment page when entering payment details. Displayed in the account statement and registries</td><td></td></tr>
<tr><td>add_params</td><td>An array with additional parameters. Additional parameters are then returned to the merchant in a callback call</td><td></td></tr>
<tr><td>approve_url</td><td>Redirect URL in case payment is successful</td><td></td></tr>
<tr><td>decline_url</td><td>Redirect URL in case payment is unsuccessful</td><td></td></tr>
<tr><td>cancel_url</td><td>Redirect URL in case the user refuses to make a payment</td><td></td></tr>
<tr><td>callback_url</td><td>URL to which information about the result of the payment will come</td><td></td></tr>
<tr><td>redirect</td><td>true / false - defaults to true, if the parameter is true, then the client will not receive redirects, but will receive the url of the payment page</td><td>Optional</td></tr>
<tr><td>auth_type</td><td>Default 1 - purchase, 2-Pre-authorization</td><td>Optional</td></tr>
<tr><td>language</td><td>Default ua - ukrainian, ru - russian, en - english</td><td>Optional</td></tr>
<tr><td>client_first_name</td><td>Client's first name</td><td>Optional</td></tr>
<tr><td>client_last_name</td><td>Client's last name</td><td>Optional</td></tr>
<tr><td>client_id</td><td>Client's ID in merchant system</td><td>Optional</td></tr>
<tr><td>phone</td><td>Client's phone</td><td>Optional</td></tr>
<tr><td>email</td><td>Client's email address</td><td>Optional</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="callback-call-to-send-notification-of-payment-status"></a><a href="#callback-call-to-send-notification-of-payment-status" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callback call to send notification of payment status</h2>
<p>Data is sent to the URL specified in the payment parameters in the field callback_url.</p>
<p>Data is sent to the merchant's server in JSON format</p>
<p>Parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Values</th></tr>
</thead>
<tbody>
<tr><td>merchantAccount</td><td>Merchant ID</td><td></td></tr>
<tr><td>orderReference</td><td>Merchant system transaction ID</td><td></td></tr>
<tr><td>amount</td><td>Transaction amount</td><td></td></tr>
<tr><td>currency</td><td>Transaction currency</td><td></td></tr>
<tr><td>phone</td><td>Customer phone number (If phone input on the payment page is enabled)</td><td></td></tr>
<tr><td>createdDate</td><td>Payment Date in Format YYYY-MM-DD HH:II:SS</td><td></td></tr>
<tr><td></td><td>Example: 2018-12-14 12:01:26</td><td></td></tr>
<tr><td>cardPan</td><td>Masked PAN Card.</td><td></td></tr>
<tr><td></td><td>Example: 535277******0298</td><td></td></tr>
<tr><td>cardType</td><td>Card type</td><td>Visa</td></tr>
<tr><td></td><td></td><td>MasterCard</td></tr>
<tr><td>fee</td><td>Transaction fee</td><td></td></tr>
<tr><td>transactionId</td><td>Transaction ID on the PC side</td><td></td></tr>
<tr><td>type</td><td>Type of transaction. The parameter is not currently used.</td><td></td></tr>
<tr><td>recToken</td><td>Token for recurring payment</td><td></td></tr>
<tr><td>transactionStatus</td><td>Transaction Status</td><td>Approved - Successfully</td></tr>
<tr><td></td><td></td><td>Declined - Renouncement</td></tr>
<tr><td>reason</td><td>Text reason for rejection</td><td></td></tr>
<tr><td>reasonCode</td><td>Failure Error Code</td><td></td></tr>
<tr><td>merchantSignature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, orderReference, amount, currency separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="recurrent-payments-recpayment-payment-by-token"></a><a href="#recurrent-payments-recpayment-payment-by-token" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recurrent payments RecPayment (payment by token)</h2>
<p><strong>Production url:</strong>   <a href="https://pay.concord.ua/api/">https://pay.concord.ua/api/</a></p>
<p>To make a recurring payment send a POST request with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Required value for this operation RecPayment</td></tr>
<tr><td>merchant_id</td><td>Merchant ID</td></tr>
<tr><td>amount</td><td>The amount of the transaction. Example 500.00</td></tr>
<tr><td>recurring_token</td><td>Token received from PC</td></tr>
<tr><td>order_id</td><td>Unique order number in the merchant system</td></tr>
<tr><td>description</td><td>Purpose of payment</td></tr>
<tr><td>currency_iso</td><td>Currency. Currently only UAH</td></tr>
<tr><td>auth_type</td><td>1 - purchase, 2 - pre-authorization. Not required. The default is 1.</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td></tr>
<tr><td></td><td>The string subject to HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, recurring_token, currency_iso, description separated by “;” (semicolon) in UTF-8 encoding.</td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td></tr>
</tbody>
</table>
<p>The following parameters come in response:</p>
<table>
<thead>
<tr><th>Name</th><th>Parameters</th></tr>
</thead>
<tbody>
<tr><td>status</td><td>APPROVED - successfully,</td></tr>
<tr><td></td><td>DECLINED - operation failed</td></tr>
<tr><td>code</td><td>Response code</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="verify-operation"></a><a href="#verify-operation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verify Operation</h2>
<p>To verify the card send the user redirect to the payment gateway page using the POST method with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Тип</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>operation type “Verify”</td><td>String</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>order_id</td><td>This is a unique transaction number. It is generated on the side of the merchant. It must be unique throughout the work.</td><td>Integer</td></tr>
<tr><td>approve_url</td><td>URL to which the user will be redirected in case of a successful operation</td><td>String</td></tr>
<tr><td>decline_url</td><td>URL to which the user will be redirected in case of unsuccessful operation</td><td>String</td></tr>
<tr><td>cancel_url</td><td>URL to which the user will be redirected if the operation is canceled</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string subject to HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, approve_url, decline_url, cancel_url separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="operation-reverse"></a><a href="#operation-reverse" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation Reverse</h2>
<p>To reverce payment send a POST request to url <a href="https://pay.concord.ua/api/reverse">https://pay.concord.ua/api/reverse</a> with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Тип</th></tr>
</thead>
<tbody>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>order_id</td><td>This is a unique transaction number that was sent in a P2PCredit, P2PDebit or Verify request.</td><td>Integer</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters $ merchant_id, $ order_id separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td>The order of parameters during concatenation is important!</td><td></td></tr>
</tbody>
</table>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>c</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Response code. (See below for a list of response codes)</td><td>Integer</td></tr>
<tr><td>message</td><td>Text message with query result</td><td>String</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="operation-complete"></a><a href="#operation-complete" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation Complete</h2>
<p>To complete payment send a POST request to url <a href="https://pay.concord.ua/api">https://pay.concord.ua/api</a> with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>operation</td><td>Complete</td><td>String</td></tr>
<tr><td>order_id</td><td>This is the unique transaction number that was sent in the purchase request.</td><td>Integer</td></tr>
<tr><td>amount</td><td>Charged Amount</td><td>float</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters $merchant_id, $order_id, $ amount separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Response code. (See below for a list of response codes)</td><td>Integer</td></tr>
<tr><td>message</td><td>Text message with query result</td><td>String</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="operation-check"></a><a href="#operation-check" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation Check</h2>
<p>To check the payment status send a POST request to url <a href="https://pay.concord.ua/api/check">https://pay.concord.ua/api/check</a> with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>order_id</td><td>This is a unique transaction number that was sent in a P2PCredit, P2PDebit or Verify request.</td><td>Integer</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters $merchant_id, $order_id separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>reasoneCode</td><td>Response code. (See below for a list of response codes)</td><td>Integer</td></tr>
<tr><td>reason</td><td>Answer Description</td><td>String</td></tr>
<tr><td>merchantAccount</td><td>merchant</td><td>String</td></tr>
<tr><td>amount</td><td>Amount</td><td>String</td></tr>
<tr><td>phone</td><td>Phone number</td><td>String</td></tr>
<tr><td>createdDate</td><td>payment date</td><td>String</td></tr>
<tr><td>cardPan</td><td>Masked card number</td><td>String</td></tr>
<tr><td>cardType</td><td>Card type</td><td>String</td></tr>
<tr><td>transactionId</td><td>Transaction ID</td><td>BigInteger</td></tr>
<tr><td>message</td><td>Text message with query result</td><td>String</td></tr>
<tr><td>datetime</td><td>Server creation date</td><td>String</td></tr>
<tr><td>fee</td><td>Payment commission</td><td>Double</td></tr>
<tr><td>transactionStatus</td><td>Operation Status (Reference see below)</td><td>String</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="operation-p2pcredit"></a><a href="#operation-p2pcredit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation P2PCredit</h2>
<p>To replenish the card send a POST request with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>transaction type “P2PCredit”</td><td>String</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>order_id</td><td>This is a unique transaction number. It is generated on the side of the merchant. It must be unique throughout the work.</td><td>String</td></tr>
<tr><td>amount</td><td>The sum of the operation must be a fractional number, with two decimal places. Example: 100.50</td><td>Double</td></tr>
<tr><td>card_number</td><td>Recipient card number.</td><td>String</td></tr>
<tr><td>token</td><td>Token, can be used instead of the recipient card</td><td>String</td></tr>
<tr><td>visa_alias</td><td>Instead of a card or token, VisaAlias can be specified <br> If a phone number is used as an alias, it must be provided according to the ITU-T E.164 (2010). <br>Example (phone number): 380670000000</td><td>String</td></tr>
<tr><td>visa_alias_type</td><td>Alias type. Required if visa_alias is specified.</td><td>String</td></tr>
<tr><td>currency_iso</td><td>Transaction currency. Currently only “UAH” is available</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant. <p>The string subject to HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, card_number/token, currency_iso separated by “;” (semicolon) in UTF-8 encoding. <p> If visa_alias specified parameter card_number need to be empty string <p>  <strong>The order of parameters during concatenation is important!</strong></td><td>String</td></tr>
</tbody>
</table>
<p>Possible values for the visa_alias_type parameter:</p>
<ul>
<li>01 - phone number,</li>
<li>02 - email address,</li>
<li>03 - national identifier,</li>
<li>04 - IBAN (international bank account number)</li>
</ul>
<p>Information about additional fields for identifying the sender and recipient of transfer can be found in the corresponding directory.</p>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Response code. (For a list of response codes, see P2PCredit response codes below)</td><td>Integer</td></tr>
<tr><td>message</td><td>Text message with query result</td><td>String</td></tr>
<tr><td>status</td><td>Transaction Statuses</td><td>String</td></tr>
<tr><td></td><td>APPROVED - translation successful</td><td></td></tr>
<tr><td></td><td>DECLINED - Translation failed</td><td></td></tr>
<tr><td></td><td>ON-PAYMENT - An application for transfer is being processed, it is necessary to request an additional status</td><td></td></tr>
<tr><td>transactionID</td><td>Transaction ID in the payment system</td><td>Integer</td></tr>
<tr><td>approvalCode</td><td>Authorization code</td><td>Integer</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="get-aliаs-information"></a><a href="#get-aliаs-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get Aliаs Information</h2>
<p>To get alias information you need to send POST request to url  <a href="https://pay.concord.ua/alias/getinfo">https://pay.concord.ua/alias/getinfo</a> with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>merchantId</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>alias</td><td>VisaAlias. <br> If a phone number is used as an alias, it must be provided according to the ITU-T E.164 (2010). <br>Example (phone number): 380670000000</td><td>String</td></tr>
<tr><td>aliasType</td><td>Alias type</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant. <p>The string subject to HMAC_MD5 is generated by concatenating the parameters merchant_id,alias,aliasType separated by “;” (semicolon) in UTF-8 encoding. <p> <strong>The order of parameters during concatenation is important!</strong></td><td>String</td></tr>
</tbody>
</table>
<p>Possible values for the visa_alias_type parameter:</p>
<ul>
<li>01 - phone number,</li>
<li>02 - email address,</li>
<li>03 - national identifier,</li>
<li>04 - IBAN (international bank account number)</li>
</ul>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Response code (0 - alias found, 1 - not found)</td><td>Integer</td></tr>
<tr><td>recipientName</td><td>Recipient name</td><td>String</td></tr>
<tr><td>recipientPrimaryAccountNumber</td><td>Masked  card number</td><td>String</td></tr>
<tr><td>issuerName</td><td>Bank issuer name</td><td>String</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="get-balance-operation-getbalance"></a><a href="#get-balance-operation-getbalance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get Balance Operation (GetBalance)</h2>
<p>To get operation balance send a POST to the url <a href="https://pay.concord.ua/api/balance">https://pay.concord.ua/api/balance</a> request with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>operation type “GetBalance”</td><td>String</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>date</td><td>Date and time of request in any format</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters $merchant_id, $data separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>JSON is returned in response with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>mk_deposit</td><td>Mastercard Limit</td><td>Float</td></tr>
<tr><td>visa_deposit</td><td>Visa Limit</td><td>Float</td></tr>
<tr><td>mk_available</td><td>Available Balance Mastercard</td><td>Float</td></tr>
<tr><td>visa_available</td><td>Available Visa Balance</td><td>Float</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="operation-p2pdebit"></a><a href="#operation-p2pdebit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation P2PDebit</h2>
<p>To debit funds from the card you should redirect the user to the payment gateway page using the POST method with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Type</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>operation type “P2PDebit”</td><td>String</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>order_id</td><td>This is a unique transaction number. It is generated on the side of the merchant. It must be unique throughout the work.</td><td>Integer</td></tr>
<tr><td>amount</td><td>The sum of the operation must be a fractional number, with two decimal places. Example: 100.50</td><td>Double</td></tr>
<tr><td>currency_iso</td><td>Transaction currency. Currently only “UAH” is available</td><td>String</td></tr>
<tr><td>description</td><td>Purpose of payment</td><td>String</td></tr>
<tr><td>approve_url</td><td>URL to which the user will be redirected in case of a successful operation</td><td>String</td></tr>
<tr><td>decline_url</td><td>URL to which the user will be redirected in case of unsuccessful operation</td><td>String</td></tr>
<tr><td>cancel_url</td><td>URL to which the user will be redirected if the operation is canceled</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td>String</td></tr>
<tr><td></td><td>The string subject to HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, currency_iso, description, approve_url, decline_url, cancel_url separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>Information about additional fields for identifying the sender and recipient of transfer can be found in the corresponding directory.</p>
<h2><a class="anchor" aria-hidden="true" id="operation-purchaseonmerchant"></a><a href="#operation-purchaseonmerchant" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Operation PurchaseOnMerchant</h2>
<p>To pay on the merchant’s payment page you should send a POST request with the following data.</p>
<p><strong>Production url:</strong>   <a href="https://pay.concord.ua/api/">https://pay.concord.ua/api/</a></p>
<p>POST parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Type of transaction</td><td>PurchaseOnMerchant</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td></td></tr>
<tr><td>amount</td><td>The amount of the transaction. Example 500.00</td><td></td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, currency_iso, description separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td>The order of parameters during concatenation is important!</td><td></td></tr>
<tr><td>order_id</td><td>Unique transaction number on the merchant side. If the operation is duplicated, the merchant receives an error.</td><td></td></tr>
<tr><td>currency_iso</td><td>Currency of payment.</td><td>UAH</td></tr>
<tr><td>description</td><td>Purpose of payment. It is displayed on the payment page when entering payment details. Displayed in the account statement and registries</td><td></td></tr>
<tr><td>add_params</td><td>An array with additional parameters. Additional parameters are then returned to the merchant in a callback call</td><td></td></tr>
<tr><td>token</td><td>Token for debiting from a card without transferring card details</td><td></td></tr>
<tr><td>card_num</td><td>Card number</td><td></td></tr>
<tr><td>card_exp_month</td><td>Validity of MM card</td><td></td></tr>
<tr><td>card_exp_year</td><td>YY card expiration date</td><td></td></tr>
<tr><td>card_cvv</td><td>CVV2 code, in case of operation without CVV specify -1</td><td></td></tr>
<tr><td>card_holder</td><td>Cardowner. Optional field</td><td></td></tr>
<tr><td>phone</td><td>Customer Phone Number Optional field</td><td></td></tr>
<tr><td>payment_type</td><td>Type of payment.</td><td></td></tr>
<tr><td></td><td>Purchase - purchase</td><td></td></tr>
<tr><td></td><td>PreAuth - blocking funds on the card</td><td></td></tr>
<tr><td>secure_type</td><td>Transaction Security Pass Type</td><td></td></tr>
<tr><td></td><td>It can take the following values:</td><td></td></tr>
<tr><td></td><td>Auto</td><td></td></tr>
<tr><td></td><td>3DS</td><td></td></tr>
<tr><td></td><td>Non3DS</td><td></td></tr>
<tr><td>callback_url</td><td>URL to which information about the result of the payment will come</td><td></td></tr>
</tbody>
</table>
<p>Answer:</p>
<table>
<thead>
<tr><th>Описание</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>status</td><td>Payment status</td><td>reference “Payment statuses”</td></tr>
<tr><td>code</td><td>Response code</td><td>Reference “Response Codes”</td></tr>
<tr><td>order_id</td><td>Unique order number in the merchant system</td><td></td></tr>
<tr><td>amount</td><td>Amount of payment</td><td></td></tr>
<tr><td>fee</td><td>Commission</td><td></td></tr>
<tr><td>currency</td><td>Payment currency</td><td></td></tr>
<tr><td>token</td><td>Token for subsequent payments. Token will be returned if payment is successful</td><td></td></tr>
<tr><td>d3_acs_url</td><td>Acs URL of the server to which the user must be sent for verification</td><td></td></tr>
<tr><td>d3_md</td><td>The unique identifier that must be transmitted to the ACS server</td><td></td></tr>
<tr><td>d3_pareq</td><td>Request to transfer to ACS server</td><td></td></tr>
<tr><td>transaction_key</td><td>Transaction key that must be used to confirm payment</td><td></td></tr>
<tr><td>transaction_id</td><td>Transaction ID</td><td></td></tr>
<tr><td>signature</td><td></td><td></td></tr>
</tbody>
</table>
<p>If the response code returns 2001, a 3DS check is required.</p>
<p>To verify 3ds, you should use the POST method to send a form with the parameters d3_md, d3_pareq, term_url to d3_acs_url.</p>
<p>term_url - url to which the 3DS check result will return.</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MPIform"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">'${d3_acs_url}'</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PaReq"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'${d3_pareq }'</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MD"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'${d3_md }'</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"TermUrl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'${term_url}'</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getting-a-token-for-masterpass"></a><a href="#getting-a-token-for-masterpass" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting a token for Masterpass</h2>
<p><strong>Production url:</strong>  <a href="https://pay.concord.ua/api/mptoken">https://pay.concord.ua/api/mptoken</a></p>
<p>To receive a guest token send a POST request with the following data.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>msisdn</td><td>Masterpass wallet phone number in format 380XXXXXXXXX</td></tr>
<tr><td>client_id</td><td>Customer ID in MasterPass</td></tr>
</tbody>
</table>
<p>The response comes in an object in JSON format with the following parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>res</td><td>Query result 0 - everything is ok</td></tr>
<tr><td>msg</td><td>Error message</td></tr>
<tr><td>token</td><td>Token for transferring to the mfs library</td></tr>
<tr><td>reference_no</td><td>Unique Request Number</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="making-a-payment-through-masterpass"></a><a href="#making-a-payment-through-masterpass" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making a payment through Masterpass</h2>
<p><strong>Production url:</strong>  <a href="https://pay.concord.ua/api">https://pay.concord.ua/api</a></p>
<p>To receive a guest token send a POST request with the following data.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Type of transaction</td><td>PurchaseMasterpass</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td></td></tr>
<tr><td>amount</td><td>Amount of payment in the format 1.00</td><td></td></tr>
<tr><td>order_id</td><td></td><td></td></tr>
<tr><td>currency_iso</td><td>Currency</td><td>UAH</td></tr>
<tr><td>description</td><td>Payment Description</td><td></td></tr>
<tr><td>approve_url</td><td>Redirect URL after successful payment (in case of 3DS confirmation on the ConcordPay page)</td><td></td></tr>
<tr><td>decline_url</td><td>Redirect URL after a failed payment (in case of 3DS confirmation on the ConcordPay page)</td><td></td></tr>
<tr><td>cancel_url</td><td>Redirect URL after cancellation of payment (in case of 3DS confirmation on the ConcordPay page)</td><td></td></tr>
<tr><td>callback_url</td><td>URL to which callback about payment status will be sent</td><td></td></tr>
<tr><td>add_params[wallet]</td><td>Wallet sign</td><td>masterpass</td></tr>
<tr><td>add_params[msisdn]</td><td>Masterpass wallet phone number in 380XXXXXXXXX format</td><td></td></tr>
<tr><td>add_params[token]</td><td>Token received from MasterPass server</td><td></td></tr>
<tr><td>add_params[card_name]</td><td>Alias ​​cards received from MasterPass server</td><td></td></tr>
<tr><td>add_params[client_id]</td><td>Merchant ID in MasterPass</td><td></td></tr>
<tr><td>add_params[ret_ref_no]</td><td>Unique transaction number received from MasterPass server</td><td></td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, currency_iso, description separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>The response comes in an object in JSON format with the following parameters:</p>
<p>If a transaction requires 3DS confirmation:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Response code</td></tr>
<tr><td>status</td><td>Transaction status, if 3DS verification is required, the status will be 3ds</td></tr>
<tr><td>d3AcsUrl</td><td>url to redirect client to check 3ds</td></tr>
<tr><td>d3Md</td><td>Cryptogram for transferring to a 3DS host</td></tr>
<tr><td>d3Pareq</td><td>Request to transfer to 3DS host</td></tr>
<tr><td>transaction_key</td><td>3DS transaction key</td></tr>
<tr><td>TermUrl</td><td>Url to redirect after entering the verification code on the 3DS page. By default, the url to the ConcordPay page, you can specify your URL to check 3DS, then after passing 3DS you need to call the “Confirm 3DS Verification” method</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="the-confirmation-of-3ds-verification-verification"></a><a href="#the-confirmation-of-3ds-verification-verification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The confirmation of 3DS Verification Verification</h2>
<p>To pay on the merchant’s payment page, you must send a POST request with the following data.</p>
<p><strong>Production url:</strong>   <a href="https://pay.concord.ua/api/">https://pay.concord.ua/api/</a></p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Type of transaction</td><td>Complete3DS</td></tr>
<tr><td>transaction_key</td><td>Transaction key</td><td></td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td></td></tr>
<tr><td>d3ds_md</td><td>ID received after redirect from ACS server</td><td></td></tr>
<tr><td>d3ds_pares</td><td>Message received after redirect from ACS server</td><td></td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, transaction_key, d3ds_md, d3ds_pares separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td><strong>The order of parameters during concatenation is important!</strong></td><td></td></tr>
</tbody>
</table>
<p>Answer:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>status</td><td>Payment status</td><td>reference “Payment statuses”</td></tr>
<tr><td>code</td><td>Response code</td><td>Reference “Response Codes”</td></tr>
<tr><td>order_id</td><td>Unique order number in the merchant system</td><td></td></tr>
<tr><td>amount</td><td>Amount of payment</td><td></td></tr>
<tr><td>fee</td><td>Commission</td><td></td></tr>
<tr><td>currency</td><td>Payment currency</td><td></td></tr>
<tr><td>card_pan</td><td>Masked card number</td><td></td></tr>
<tr><td>transaction_id</td><td>Transaction ID</td><td></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="payment-on-the-payment-splitting-processing-page"></a><a href="#payment-on-the-payment-splitting-processing-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Payment on the payment splitting processing page</h2>
<p>To pay on the payment processing page redirect to the page of the processing center, with POST data.</p>
<p><strong>Production url:</strong>   <a href="https://pay.concord.ua/api/">https://pay.concord.ua/api/</a></p>
<p>POST parameters:</p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>operation</td><td>Type of transaction</td><td>Purchase</td></tr>
<tr><td>merchant_id</td><td>merchant identifier</td><td></td></tr>
<tr><td>amount</td><td>The amount of the transaction. Example 500.00</td><td></td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, order_id, amount, currency_iso, description separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td>The order of parameters during concatenation is important!</td><td></td></tr>
<tr><td>order_id</td><td>Unique transaction number on the merchant side. If the operation is duplicated, the merchant receives an error.</td><td></td></tr>
<tr><td>currency_iso</td><td>Currency of payment.</td><td>UAH</td></tr>
<tr><td>description</td><td>Purpose of payment. It is displayed on the payment page when entering payment details. Displayed in the account statement and registries</td><td></td></tr>
<tr><td>add_params</td><td>An array with additional parameters. Additional parameters are then returned to the merchant in a callback call</td><td></td></tr>
<tr><td>split</td><td>Sign of payment splitting</td><td>0 - не расщеплять</td></tr>
<tr><td></td><td></td><td>1 -  расщеплять</td></tr>
<tr><td>split_rules</td><td>An array with splitting rules that contains the identifiers of the submerchant and amount.</td><td></td></tr>
<tr><td></td><td>The amount of splits must match the amount of payment.</td><td></td></tr>
<tr><td></td><td>Example:</td><td></td></tr>
<tr><td></td><td>split_rules[0][sub_merchant_id]=test1&amp;split_rules[0][amount]=100.00&amp;split_rules[1][sub_merchant_id]=test2&amp;split_rules[1][amount]=50.00&amp;.......&amp;split_rules[n][sub_merchant_id]=testn&amp;split_rules[n][amount]=10.00</td><td></td></tr>
<tr><td>approve_url</td><td>Redirect URL in case payment is successful</td><td></td></tr>
<tr><td>decline_url</td><td>Redirect URL in case payment is unsuccessful</td><td></td></tr>
<tr><td>cancel_url</td><td>Redirect URL in case the user refuses to make a payment</td><td></td></tr>
<tr><td>callback_url</td><td>URL to which information about the result of the payment will come</td><td></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="card-range-information"></a><a href="#card-range-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Card range information</h2>
<p>To get card range information send POST data to url <a href="https://pay.concord.ua/api/bas">https://pay.concord.ua/api/bas</a></p>
<table>
<thead>
<tr><th>Parameter</th><th>Description</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>merchant_id</td><td>merchant identifier</td><td>String</td></tr>
<tr><td>range</td><td>First 9 digits of card number</td><td>String</td></tr>
<tr><td>signature</td><td>In order to confirm the validity of the data, a verification signature must be generated and transmitted in the HMAC_MD5 request using the SecretKey merchant.</td><td></td></tr>
<tr><td></td><td>The string to be HMAC_MD5 is generated by concatenating the parameters merchant_id, range separated by “;” (semicolon) in UTF-8 encoding.</td><td></td></tr>
<tr><td></td><td>The order of parameters during concatenation is important!</td><td></td></tr>
</tbody>
</table>
<p>The response comes in an object in JSON format with the following parameters (set of parameters depends on service level):</p>
<table>
<thead>
<tr><th>Field Name</th><th>Attribute Description</th><th>Type</th><th>Level 1 (Base)</th><th>Level 2 (Full)</th></tr>
</thead>
<tbody>
<tr><td>code</td><td>Error code. If 0 - success</td><td>Integer</td><td>X</td><td>X</td></tr>
<tr><td>message</td><td>Error message in case where code &gt; 0</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>minRange</td><td>Account Range Minimum</td><td>Integer</td><td>X</td><td>X</td></tr>
<tr><td>maxRange</td><td>Account Range Maximum</td><td>Integer</td><td>X</td><td>X</td></tr>
<tr><td>brandCd</td><td>Brand Indicator</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>issuerBin</td><td>Issuer BIN</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>binLength</td><td>BIN Length</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>sharedBinInd</td><td>Shared BIN Indicator</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>posdomesticOnlyInd</td><td>Domestic-Use-Only Flag</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>onlineGamblBlockInd</td><td>Online Gambling Block</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>binRangePaymentAccountType</td><td>Token Indicator</td><td>String</td><td>X</td><td>X</td></tr>
<tr><td>issuerBillingCurrCd</td><td>Issuer Billing Currency</td><td>String</td><td></td><td>X</td></tr>
<tr><td>accountCtryAlpha2Code</td><td>Issuer Country Code</td><td>String</td><td></td><td>X</td></tr>
<tr><td>platformCd</td><td>Product Platform</td><td>String</td><td></td><td>X</td></tr>
<tr><td>productId</td><td>Product ID</td><td>String</td><td></td><td>X</td></tr>
<tr><td>productIdName</td><td>Product Name</td><td>String</td><td></td><td>X</td></tr>
<tr><td>accountFundingSourceCd</td><td>Account Funding Source</td><td>String</td><td></td><td>X</td></tr>
<tr><td>accountFundingSourceSubtypeCd</td><td>Account Funding Source Subtype</td><td>String</td><td></td><td>X</td></tr>
<tr><td>accountBusName</td><td>Issuer Name</td><td>String</td><td></td><td>X</td></tr>
</tbody>
</table>
<p>Error codes</p>
<table>
<thead>
<tr><th>Error code</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>0</td><td>Success</td></tr>
<tr><td>1</td><td>Merchant not found</td></tr>
<tr><td>2</td><td>Wrong signature</td></tr>
<tr><td>3</td><td>Wrong field format</td></tr>
<tr><td>5</td><td>Data not found</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/docs/en/GooglePay"><span class="arrow-prev">← </span><span class="function-name-prevnext">GooglePay</span></a><a class="docs-next button" href="/docs/docs/en/dictionary"><span>Dictionary</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#payment-on-the-payment-processing-page">Payment on the payment processing page</a></li><li><a href="#callback-call-to-send-notification-of-payment-status">Callback call to send notification of payment status</a></li><li><a href="#recurrent-payments-recpayment-payment-by-token">Recurrent payments RecPayment (payment by token)</a></li><li><a href="#verify-operation">Verify Operation</a></li><li><a href="#operation-reverse">Operation Reverse</a></li><li><a href="#operation-complete">Operation Complete</a></li><li><a href="#operation-check">Operation Check</a></li><li><a href="#operation-p2pcredit">Operation P2PCredit</a></li><li><a href="#get-aliаs-information">Get Aliаs Information</a></li><li><a href="#get-balance-operation-getbalance">Get Balance Operation (GetBalance)</a></li><li><a href="#operation-p2pdebit">Operation P2PDebit</a></li><li><a href="#operation-purchaseonmerchant">Operation PurchaseOnMerchant</a></li><li><a href="#getting-a-token-for-masterpass">Getting a token for Masterpass</a></li><li><a href="#making-a-payment-through-masterpass">Making a payment through Masterpass</a></li><li><a href="#the-confirmation-of-3ds-verification-verification">The confirmation of 3DS Verification Verification</a></li><li><a href="#payment-on-the-payment-splitting-processing-page">Payment on the payment splitting processing page</a></li><li><a href="#card-range-information">Card range information</a></li></ul></nav></div><footer class="nav-footer" id="footer"><a href="https://concord.ua/" target="_blank" rel="noreferrer noopener" class="fbOpenSource" style="display:flex;justify-content:center"><img src="/docs/img/footer-concord-logo.png" alt="Concord" width="65" height="45"/></a><section class="copyright" style="display:flex;justify-content:center">Copyright © 2022   Concord</section></footer></div></body></html>